 The following content is provided under a Creative Commons license, your support will help MIT open courseware continue to offer high-quality
educational resources for free to make a donation or to view additional materials from hundreds of MIT courses, visit MIT open courseware at ocw.mit.edu.  are also how to switch to polar coordinates, but marginally, there's a lot of different
changes of variables that you might want to do. So today, we're going to see how to change variables if you want how to do substitutions in double integers.  So let me start with a simple example. Let's say that we want to find the R a of an L
eps with Smex's a and b. So that means an Leps is just like a squared  and so there's a and there's b, and the equation of at L sub
epsis x over a squared plus y over b squared equals 1. Well, that's the curve, and the inside region is where this is less than 1. So it's just like a circle, but where you have a rescaled x and y differently.  let's say we want to find the RRI of that, maybe you know what the RRI is, but let's
do it as the whole integral.  that's x over a squared plus y of Rb squared, less than 1. Now, we can try to set this up in terms of x and y
cordinates, set up the bounds by solving for x as a function of y if we do it with this order, and do the usual stuff. But it doesn't look very pleasant, and it's certainly not the best way to do it. If this were a circle, we would switch to
sub 1 to our coordinates, where we can't quite do that yet,  So when ellipses is just a quick circle, so maybe we want to actually first, first, a
rescale x and y by a and b to reduce to the case of a circle. So to do that, what we'd like to do is set x over a to be u and y over b to be b, so we have two new variables, u and b, and we'll try to do our integral in terms of u and b.  So how do we do the substitution? So in terms of UNV, the condition, the region that we're integrating on will become
use square plus this square less than 1, which is arguably nicer than the ellipse, that's what's why we're doing it. But we need to know what to do with the x and dy. Well, here, the answer is pretty easy because we just change x and y separately, we do two independent
substitutions.  So if we set, if we set u equals x over a, that means d u is 1 over a, dx, and here db is 1 over b, dy. So it's very tempting to write, and here we actually we can write in this particular case, that dup, db is 1 over a, b, dx, dy.  So let me rewind that. So I get d, u, d, b equals 1 over a, b, d, d, x, d, y, or equivalently, d x, d, y is a, b times d, u, d, b.  I'm going to write a, b, d, you, d, b.  you dv, and that is an integral that we know how to do, well, because it's the R a, it's just the R a of a
or a of a unit circle. So we can just say, this is a, b times the R a of the unit, this, which we know to be pi, if somehow you had some function to integrate, then you could have switch to put our coordinate,  delta, v equals R sine, theta, and then doing it in
bola coordinates. So here, the substitution works pretty easily. Question is, if we do a change of variables where the relation between x and y and unv is more complicated, what can we do? Can we still do this? So we have to be more careful, and actually, we have to be more careful.  OK, so c, the general problem when we try to do this is to
figure out what is the scale factor, what's relation between d x, d y and d u, db.  the x, d, y, that's just the u, dd. So let's do another example that's still pretty
easy, but a little bit less easy. So let's say that for some reason, we want to do the change of variables, u equals x minus 2y and b equals x plus y.  do that, well, that might be to simplify the
integrant because we're integrating a function that happens to be actually involving these guys, rather than x and y, or it might be to simplify the bounds, because maybe we're integrating over a region whose equation in xy coordinates is very hard to write down, but it becomes much easier in terms of a few and b, and then the bounds would be much easier to set up with a few and b.  Now, a reason might be, typically it would be to simplify
the integrand of a bounds, well, how do we convert the x dy to d u db? So we want to understand what's relation between let's call d a, the area element in xy coordinate  is d x dy, maybe dy dx, depending on the order. And the area element in
u of e-cordinates, let me call that d a prime just to make it look different so that would just be d, u, d, d, or d, d, d, d, d,  of a picture to see what happens, let's consider a small piece of the xy
plane with R a delta a corresponding to just a box with sides delta y and delta x. And let's try to figure out what it will look like in terms of a few and b. And then we'll say, when we integrate, we're really  if a value of a function of a lot of small boxes,
times they are R here, but the problem is that the R here of a box in here is not the same as the R here of a box in u, v coordinates, there maybe it will look like, if you see that these are linear changes of variables, you know that a rectangle will become a parallelogram, after a change of variables.  So we have to figure out how they're related so that we can decide what conversion
factor, what's the exchange rate between these two currencies for RL? Any questions at this point?  why is delta a prime of pi, a diagram, that's a very good question? Well, if I look at this side of a rectangle, say, this vertical side, means I'm going to increase y,
keeping x the same, if I look at the formulas for you and
of the linear formulas in terms of x and y. So if I just increase y, c that you is going to be  And it doesn't matter whether I was looking at this side or at that side. So basically, straight lines become straight lines, and if they're parallel, they're state parallel. So if you just look at what the
transformation from x, y to u, v does, it does this kind of thing. Actually, this transformation here, you can express by your matrix. And remember, we've seen what matrices do to pictures, which just take straight lines to straight lines, they keep the function of being parallel, but of course, the
sublimitial length, and all that.  So let's see, so let's try to figure out what is the array of this guy? Well, in fact, what I've been saying about this transformation being linear and transforming all of the vertical lines in the same way, or the horizontal
line in the same way, that also I should have a constant scaling factor, because how much I've scaled my rectangle  doesn't depend on where my rectangle is, if I move my rectangle to
somewhere else, I have a rectangle of the same size, same shape, it will become a parallel come of a same-size, same-size, same shape somewhere else. So in fact, I can just take the simplest rectangle I can think of and see how it's area changes. And if you don't believe me, then try with any of a rectangle, you will see it works exactly the same way.  here, in this case, it does not depend on the choice of a rectangle. And I should say that because we're actually doing a linear
change of variables.  So somehow, the exchange rate between u, and xy is going to be the same
everywhere. So let's try to see what happens to the simplest triangle I can think of, namely just a unit square. And if you don't trust me, then why I'm doing this one, do it with a different triangle, do the same calculation and see that you will get the same  let's say that I take the unit square, so some it has size that goes from 0 to 1, both in x and y directions. And let's try to figure out what it looks like on the other side. So here, the area is 1, let's try to draw it in terms of
a few and b coordinates.  So here we have x equals 0, y equals 0, that tells us, u and v are going to be 0. Next, let's look at this corner. Well, in xy-cot in x, this is 1, 0. If you plug x equals 1, y equals 0, you get u equals free, b equals 1, so that goes somewhere here.  And so this edge of a square will become this line here. Next, let's look at that point. So that point here was 0, 1, if I plug x equals 0, y equals 1, I will get negative 2, and 1.  So this edge goes here, then if you put x equals 1, y equals 1, you'll get u equals 1, b equals 2, so I want 1, 2, and this edge is, will go to these edges here, and you see, it does look like a parallelogram.  So now, what's the area of this parallelogram? Well, we can get that by taking the
determinit of these two vectors. So one of them is free 1, and the other one is minus 2, 1, that will be free plus 2, that's 5.  is apparently 5 times the size of the square, here it looks like it's less, because I've somehow changed my
scale, I mean, my unit length is smaller here than here, so it should be a lot bigger than that. And if you do the same calculations not with 0 and 1, but with x and x plus delta, x and so on, you will still find that the area has been multiplied by 5.  actually, for any of a rectangle, RR is also multiplied by 5. So that tells us that dA prime, the RR element in new v
cordinate is worth 5 times more than the RR element in xy coordinate  So that means the UDV is worth 5 times the x dy. What's so funny?  So, OK, I like tango. OK, is it OK now? Or did I miss a lot of our words? No? OK, it's really hard to see when you're at close up.  So, so if say our transformation multiplies
are as by 5, and so dup is 5 times dx dy, so if I'm integrating some function dx dy, then when I switch to ub coordinates, I will have to replace that by 1, 5th dup.  base them by use and v's and the bounds, well, the shape of my region in the xy
cordinance, I will have to switch to some shape in the UV coordinate, and that's also something that might be easy or might be tricky depending on what region we're looking at. So usually, we'll do changes of variables to a simply simplify the region, so that it becomes easier to set up the bounds.  Anyway, so this is an illustration of a general case, and why is that? Well, here it looks very easy. We're just using linear formulas, and somehow, the
relation between the x, d, y, and d, and d, d, d, and d, is the same everywhere. If you take actually more complicated changes of variable, so that's not true, because, usually, you will expect that there's some places where the scaling is maybe enlarging things, and some of our places where things are shrunk.  only the x-change rate between d, d, d, d, and d, and d, and the x d y will fluctuate from point to point. It's same as if you're trying to change
1 or 2 euros, it depends on where you do it, you will get a better
react or a worse one.  function is just a linear function of x and y, so then we can do it the same
way we did here, so let's try to think about that. So in the general case, that means we'll replace x and y by new coordinates, u and b, and
n, and u and b will be some functions of x and y.  So we'll have an approximation of a formula, which tells us that the change in
you, if I change x on y a little bit, will be, hopefully, you sub x times change in x plus you sub y times changing y, and the change in v will be, hopefully, v sub x delta x plus v sub y delta y.  x form is delta, you delta, you delta, b is, so
approximately equal to you sub x, you sub y, if you sub x, this sub y times delta x and delta y. So if we look at that, what it tells us, in fact, is that if we take a small  a rectangle in xy coordinates, so that means we have a
southern point xy, and then we have a certain width, this is going to be too small.  to a small u, v, parallelogram, and what the shape and the size of that
parallelogram are, depend on the partial derivatives of human v, so in particular, if it depend on at which point will, but still at a given point, it's a bit like that.  And so if we do the same argument as before, what we'll see is that the scaling factor is actually the determinant of this transformation. So that's one thing that maybe we didn't emphasize enough when we did matrices at the beginning of a semester, but when you have a linear transformation between
value variables, the determinant of that transformation represents how it's  So one way to think about it is just to try and see what happens, take this side in xy
cordinates corresponds to delta x and 0. And now, if you take the image of that, what happens to delta, you and delta v, that will be basically use sub x delta x and b sub x delta x, there's no delta y.  maybe I should do it, actually. So if we move in the xy
cordinates by delta x and 0, then delta u and delta V will be, you sub x, be approximately, you sub x delta x, and  in the other direction, if you move in the other direction, along the other side of
the right-angle, 0 and delta y, then the change in u and the change in v will correspond to, well, how does u change? That's u sub y delta y, and b changes by this sub y delta y. And so now, if you take the determinant of these two vectors, so these are the sides of your parallelogram up here, and if you take these sides to get the  of a parallelogram, you would need to take the determinant, and the determinant will be the
the determinant of this matrix times delta x times delta y. So the RR in UV coordinates will be the determinant of a matrix times delta x delta y. And so what I'm trying to say is that  when you have a general change of variables, the Udv, the
verse as dx, dy is given by the determinant of this matrix of partial derivatives, it doesn't matter in which order you write it.  I'm sorry.  So what we need to know is the following thing. So we define something called the Jacobian of a change of
variables, and use a letter j, or maybe a more useful notation is partial of u, v of a part of xy, that's a very strange notation, I mean, that doesn't mean that, for actually taking the partial derivative  it's just notation to remind us that this has to do with ratio between the
UDV and the x dy, it's made using the partial derivatives of a few and V with respect to x and y. So it's the determinant of a matrix, use of x, you sub y, this of x, this of x, this of y, the
sub y, the matrix that I had up there.  And what we need to know is that the UdV is equal to the absolute value of j, dx dy, or if you prefer to see it in the
easier to remember a version, it's absolute value of d of u, d of a partial xy, dx dy.  what you need to remember, and it says that the RR in you, the
cordinates is worth, well, the ratio to the RR in the x-way coordinates is given by this jacoby and determinant, except one small thing, it's given by the absolute value of this guy.  such, remember, determinants are equal to R a's up to sine, sometimes the
times of the termite is negative because of reversing the orientation of things, but the R a is still the same, R a is always positive. So the R a's elements are actually related by the absolute value of this guy. So if you find, you know, minus 10 as your n's, then d, d, d, d, d is still 10 times d, x, d, x, d, y.  So, I mean, I didn't put it all together together because then you would have two sets of
a vertical bar, cn, and this is a vertical bar for absolute value, this is a vertical bar for the term, and it's not the same.  So, actually, let's do a first example of that. Let's check what we had for
polar coordinates. Last time, I told you, well, if we have the x dy, we could switch it to R dR d theta. And we had some argument for that by looking at the R a of a small piece of a small  again, using this new method. So in polar coordinates, I'm setting x equals R
corpsine theta, y equals sine theta. So the Jacobian for this change of variables, so let's say I'm trying to find the partial derivatives of xy with respect to R theta,  y-them here again, just for you. And so what does that become? partial x of a partial R is just cosine theta. partial x of a partial theta is negative R sine theta.  So we say x sub R is cosine theta, x sub
feta is negative R sine theta, y sub R is sine, y sub theta is R cosine, and now if we compute this determinant, we'll get R cosine square theta plus R sine square theta,  to R, so the x dy is, well, absolute value of R, dR d theta, but remember that R is always positive, so it's R dR d theta.  Any questions on that?  So I said, we're going to switch from x, y to u, we can also switch from
u, v to xy, and this conversion ratio of a Jacobian works both ways. Once you have found the ratio between d, d, d, and d, and d, x, dy, then it works one way or it works the other way.  2, xy, just with with the dRD-feta equals 1 over R, the xy, and then we'd have, of course, to replace R by its
fumulary and xy coordinates, usually we don't do that. Usually we actually start with xy and switch to polarot. So in general, when you have this formula relating the u, d, d, with the x, d, y, you can use it both ways. I have R to switch from the
up to d, d, 2, d, x, d, y, or the other way around.  And the thing that I'm not telling you that now I should
probably tell you is I could define two check-obions because if I solve for xy in terms of uv, instead of uv in terms of xy, then I can compute two different check-obions. I can compute partial uv of a partial xy, or I can compute partial xy of a partial uv if I have a formula as both ways.  consistent.  useful remark, so say that you can compute both these guys, when actually the product will just be 1. So you don't have the inverse of each over, so it doesn't
be a matter of which one you compute.  which of our 1 is the easiest to compute, no matter which one of the two you need. And one way to see that is that, in fact, we're looking at the determinants of these matrices that tell us the
relations in the variables. So if one of them tells you how delta, you delta, you delta V, really, to delta x delta y,  that thing, it means that the inverse matrices, and the determinant of the
inverse matrix is the inverse of the determinant. So they're really interchangeable. I mean, you can just compute whichever one is easiest. So here, if you wanted, the R, the theta in terms of dx, d, x, dy, it's easier to do this, and then move the R over there, then to first serve for R and theta as functions of x and y, and then do the entire thinking  but you can do it if you want, it works.  you can just say, I'll put a constant times, the Udb, yes?  that, and then a circle would start looking like a
this could look like that, and it would be very counterintuitive, but you could do it, and that would be equivalent to what we did with a previous change of variables.  let's do a complete example to see how things fit together, how we do everything. So let's say that we want to compute, so I have to warn you, it's going to be a very silly example, it's an example where it's much easier to compute things without the change of variables, but it's good practice in the sense that we're going to make it so complicated that if we can do this one, then we can do them all.  So let's say that we want to compute this, and of course, it's very
easy to compute it directly. But let's say that for some equal reason, we want to do that by changing variables to u equals x and v equals xy. That's a very strange idea, but let's do it anyway. Normally, you would only do this kind of substitution if either it's  simplifies a lot of the function your
integrating, or it simplifies a lot the region on which you're integrating. And here, neither happens. But anyway, so the first thing we have to do here is figure out what we're going to be integrating. So to do that, first we should figure out what dx, dy will become in terms of u and v. So that's what we've just seen using the Jacobian.  And for that, we use the Jacobian. So, let's see, the one that we can do
easily is partial of a few and V with respect to x and y. I mean, the other one is not very help, because here you can solve easily, but the one that's given to you is partial of a few and V with respect to x and y.  and the partial y is x. So it's just x. So that means that dupdv is x dx, dy. Well, it would be absolute
absolute value of x, but x is positive in our region. So at least we don't have to worry about that.  OK, so now that we have that, we can try to look at the
intergrund in terms of u and b. So we were integrating x squared y, d x d y.  Well, let's first switch the dx dy that becomes 1 of x, dup, dup, so that's actually xy, dup, dup, and what is xy in terms of
few and d, well, here at least we have a little bit of luck, xy is just d, so that's dup, dup, dup, dup.  over some mysterious
meisterious region of the dupdv. Now, last but not least, we'll have to find what other bounds for you and the new interval, so that we know how to evaluate this.  In fact, what we could do at the UDV or the dVD, we don't know yet. Oh, amazing, it went all the way down this time.  So it could be d, d, d, d, d, you, if that's easier. So let's try to find the bounds that, in this case, let's be how this is about.  that. So x and y go from 0 to 1, the original that we want to
integrate over was just this square. Let's try to figure out how u and v vary in there. So let's say that we are going to do it d, u, d,  we want to understand is how you and the value in here, what's going to happen. So the way we can think about it is we try to figure out how we're
slicing our origin. So here, we are integrating first of our u, that means we start by keeping a constant, no, by keeping the constant as u changes.  is constant. What does it mean that I'm keeping
keep in the constant? What is the V? V is xy, so that means I keep xy equals constant, what does the curve xy equals constant look like? Well, it's just a hyperbola, y equals constant of x.  values of v that I can take, for each value of v, if I fix a value of
v, I will be moving on one of these right curves, and you, well, you is the same thing as x, so that means you will increase, here maybe it would be 0.1, and it would increase to all the way to 1 here.  So the question we must answer here is, for a given value of
V, what are the bounds for you? So I'm traveling on make of V equals constant and trying to figure out when do I enter my region, when do I leave it? Well, I enter it when I go through this side. So the question is, what's the value of you here? Well, we don't know that very easily until we look at this formula  So, u equals x, but we don't know what x is at that point. Well, u equals x and v equals xy. What do we know here? Well, we don't know x, but we know y, certainly. So let's forget about trying to find
you, and let's say, for now, we know y equals 1. Well, if we set y equals 1, that tells us that u and v are both equal to x.  So in terms of u and v, the equation of this in u, v
cordinates is u equals v. I mean, the other way to do it is say that you want y equals 1, you want to know what is y in terms of u and v, well, it's easy, y is v of L. So let me actually add an extra step in case that.  v of l, u equals 1, so that means
u equals b is my equation. So when I'm here, when I'm entering my regime, the value of u at this point is just v, u equals b. That's the hard part. Now, we need to figure out, so we start that u equals b, you increase,  it exists when we are here, what's the value of you here? 1, that one is
easier, this side here, this side here is x equals 1, that means you equals 1. So we stop at you equals 1. Now, we've done the inner integral, what about the outer? So we have to figure out what is the first and what is the last value of  that we'll want to consider. Well, if you look at all these hyperbolas, xy equals constant, what's the smallest
value of xy that we'll ever want to look at in here? 0, let me actually, where's my yellow chalk?  And what's the last type of what we want to look at, what is the 1, that's right there in the corner, this 1 here, and that's
bigger equals 1, so v goes from 0 to 1. And now we can compute this. I mean, it's not particularly easier than that 1, but it's not hard or either.  this way, in case it works well, just try to picture what the other
slices in terms of human v and how you travel on them, where you enter, where you leave, staying in the x, y picture. If it somehow doesn't work well, another way is to draw a picture in the uv that coordinates,  So what do I mean by that? Well, we had here a picture in xy
cordinates where we had our sides, and we're going to try to draw what it looks like in terms of human v. So here we say this is x equals 1, that becomes u equals 1. So we'll draw u equals 1.  b, that's what we've done of L of R. So
u equals b. Now, we have the 2 over R side to deal with, let's look at this one first, so that was x equals 0, what happens when x equals 0? Well, both you and b are 0, so this side actually gets squeezed in the change of variables.  sometimes it's not always one point is one point. So anyway, this is the origin. And then the last side y equals 0, and x
ver is just becomes b equals 0. So somehow, in the change of variables, this square becomes this triangle. And now, if we want to integrate d, u, d, v, it means that it means that it  going to integrate other slices like this, and you see for each value of
you of v, we go from u equals v to u equals 1, and v goes from 0 to 1. So you get the same bounds just by drawing a different picture. So it's up to you to decide whether you prefer to think on this picture or draw that one instead.