 The following content is provided under a Creative Commons Commons Commons license. Your support will help MIT open courseware continue to offer high-quality educational resources for free to make a donation or to view
additional materials from hundreds of MIT courses, visit MIT open courseware at ocw.mit.edu.  Before that, we've studied how to look for minimum and
maximal functions of several variables, and today we're going to look again at min-max problems, but in a different setting, namely, when the variables are not independent. And so what we'll see is the method of Lagrange multipliers, and this is the one point in the term when I can shine with my French accent and say,  OK, so what are the large-range multipliers about? Well, the goal is to minimize or maximize a function of several
value points, let's say, for example, f of x, yz, which is pretty variables, but these variables are no longer independent.  So they're not independent, that means that there's a relation between them. The relation is maybe some equation of a form g of xyz equals some constant. So you take the relation between xyz, you call that g, and that gives you the constraint,  the goal is to minimize f only of those values of xyz that satisfy the constraint. So what's one way to do that? Well, one way to do that, if the constraint is very simple, we can maybe
serve for one of the variables. Maybe we can solve this equation for one of the variables, plug back into f, and then we have a usual min-max problem that we've seen how to do.  this condition is too complicated, and then we need a new method, and that's what we're going to do. So why would we care about that? Well, one example is in physics, maybe you've seen in thermodynamics that you study what it is about guesses, and that's
continuous at the end of all of pressure, value and temperature, and pressure of value and temperature are not independent of each other,  So, there, you could actually actually solve to express things in terms of
1 or the other, but sometimes it's more convenient to really keep all free variables, but treat them as constraint. So it's just an example of a situation where you might want to do this. Anyway, we look mostly at mathematical examples, but just to point out that this is useful when you study guesses in physics.  So the first observation is we can't use our usual method of looking for
critical points of f because critical points of f typically, they will not satisfy this condition, so they want to be good solutions, we need something else.  on the hyperbola, xy equals free in the plane.  elementary, geometric, geometry, we don't need, actually, the
leggeron of the multipliers, but we are going to do it with the begon of the multipliers, because it's a pretty good example. So what does it mean? Well, it means that we want to minimize distance to the origin, so what's the distance to the origin? If I have a point that coordinates xy, then the distance to the origin is square root of x square plus y squared  Well, do we really want to minimize that? Can we minimize
something easier? Yeah, maybe we can minimize the square of a distance. So let's forget this guy, and instead, so actually, we'll minimize f of xy equals x squared plus y squared, that looks better.  to the constraint, xy equals 3, and so we'll call this thing g of xy to illustrate the general
measured. So let's look at a picture. So here you can see, in yellow, the hyperbola xy equals 3  and we're going to look for the point that are close to the
ority. So what can we do? Well, for example, we can plot the function x squared plus y squared function f, that's the control plot of f with a hyperbola on top of it. And now let's see what we can do with it.  where f equals 20, now, I think I'm at 20, but you can't really see it, that's a circle, that's a point,
was distance square is 20, well, can I find a solution if I'm on the hyperbola? Yes, there are four points at this distance. Can I do better? Let's decrease the distance, yes, we can still find points in the hyperbola.  look at, there's somehow a limit value, be on which we can't go, and that's the
minimum of f. So we're trying to look for the smallest value of f that will actually be realized on the hyperbola. So when does that happen? Well, I have to backtrack a little bit, it seems like the limit in case is basically here, it's when the circle is tangent to the hyperbola, that's the smallest circle  that will hit the hyperbolum. So if I take a larger value of f, I will have solutions, if I take a small
value of f, I will not have any solutions anymore. So that's the situation that we want to solve. So how do we find that minimum? Well, the key observation that's valid on this picture, and that actually will remain true in the complicated general case  is that when we write the minimum, the
level curve of f is actually tangent to our hyperbola, it's tangent to our constraint, to the set of points where xy equals 3 to the hyperbola.  the level curve of f is tangent to the hyperbola. And remember, the hyperbola is given by the equation g equals 3, so it's a level curve of g. So we have a level curve of f and a
level curve of g that are tangent to each other,  And I claim that's going to be the general situation that we're
entrusted in. So how do we look for try to solve for points where this happens?  and g are tangent to each other. Well, so let's think for a second, if the two-level curves are tangent to each other, that means that they have a same tangent line.  maybe throw a picture here. So this is the
level curve maybe f equals something, and this is the level curve g equals constant. Here, my constant is free. Well, if I look at the gradient vectors, so the gradient of f will be perpendicular to the level curve of f, the gradient of g will be perpendicular to the level of a  OK, but they have to be parallel to each other. Of course, they could also be parallel
pointing in opposite directions, but the key point is that when this happens, the gradient of f is parallel to the gradient of g.  So here's a point, and I can plot the gradient of f in
blue, the gradient of g in yellow, and you see in most of these places, somehow the two gradients are not really parallel. Actually, I shouldn't be looking at random points. I should be looking only on the hyperbola, I want points on the hyperbola, where the two gradients are parallel, well, when does that happen, looks like it will happen here.  minimum, the two gradient vectors are parallel, it's not really a proof, it's an example, but it seems to be
converging, so far things work pretty well. So how do we decide if two vectors are parallel, well, they're parallel when they're proportional to each  1. And that constant, usually, when you use the
greek letter lambda, if you've seen it before, it's the greek letter L for L, and I'm sure that somebody's idea of paying a tribute to the product by putting an L in there.  where this holds. So in fact, what we're doing is we're replacing a min-max
problem in two variables with a constraint between them by a set of equations involving you will see free variables.  xy equals constant, and that becomes something new, that becomes a
system of equations where we have to solve, well, so let's write down what it means for gradient f to be proportional to gradient g, that means that f sub x should be lambda times g sub x, and f sub  y should be lambda times g sub y, because the gradient
factors here are f sub x, f sub y, and g sub x g sub y. If you have a third variable z, then you have also an equation, f sub z equals lambda g sub z. Now, let's see, how many unknowns do we have in these equations?  because we have only two equations, something's missing. Well, x and y are not actually independent,
very related by the equation g of x, y equals c. So we need to add the constraint g equals c. And now we have three equations involving free variables.  So here, remember, we have f equals x squared plus y squared, and g equals xy. So what's f sub x that's going to be 2x equals lambda times what is g sub x, y? So maybe I should find here, f sub x equals lambda g sub x just to remind you,  then we have f sub y equals lambda g sub y, so f sub y is 2y equals lambda times g sub y is x. And then our third equation, g equals c becomes xy equals 3. So that's what we would have to solve. Any questions at this point?  no? Yes?  and points towards higher values of a function, so it could be, what did I have? Yeah, it could be that my gradient
vectors, actually point in opposite directions, it doesn't matter to me because it will still look the same in terms of the equation, just lambda will be positive or negative,
depending on the case.  positive or negative, and in this example, it looks like lambda will be positive if you look at the
picture on the plot.  I'm trying to solve, actually, for the radius of the circle, I'm trying to find what's the minimum value of f. And second, at that value of f, at that point, the value of f and the value of g are not equal, g is equal to 3, because I'm on the hyperbola x, x, x, x, x, x, x,
or equals 3, the value of f will be the square of a distance, whatever that is.  not right, no, we're not, so, I mean, actually here, I'm just using this idea of finding a point close
as to the origin to illustrate an example of a min-max problem, a general problem that's  equals constant. And what we are going to do for that is we're already going to say, instead, let's look at places where gradient f and gradient g are parallel to each other
and solve for equations of that. I think we completely lose the notion of close-est point if we just look at these equations, we don't really say anything about close-est points,  Yes. So it's always going to be the case that at the minimum or at the maximum of a function subject to a constraint, the
level curves of f and the level curves of g will be tangent to each other. So that's the basis for this method. So I'm going to justify that.  S-crate dimensions it could even be a set or point, and in fact, I should say in that, in that
ence, this means that if I will not tell S, whether it's a minimum or a maximum, we don't have any way of knowing, except for test thing values, we can't use second derivative test, so
so anything can I get that.  a more complicated problem, I might not be able to solve. So I'm doing an example where, indeed, here you could solve and remove one
value, but you can't always do that, and this method will still work, if you have a one and want.  So how do we solve these equations? Well, the answer is, in general, we might be in deep trouble. There's no general method for solving the
equations that you get from this method. You just have to think about them, and so sometimes it will be very easy, sometimes it will be so hard that you can't actually do it with  it will be just hard enough to be on B of this week's
problem set.  can think of this as a 2 by 2 linear
system in x and y, well, let me do something. So let me rewrite the first two equations as 2x minus lambda y equals 0, and lambda x minus 2y equals 0, and xy equals 3.  that's what we want to solve. Well, I can put this into matrix form 2 minus lambda, lambda minus 2 times xy equals 0. Now, how do I solve a linear
system, matrix times xy equals 0? Well, I always have an obvious solution, x and y, both equal to 0, is that a good solution?  is not free. So we want another solution, so the trivial solution, 0, 0, 0, does not solve the constraint
equation x, y equals free. So we want another solution, when do we have another solution? Well, when the determinant of a matrix is 0,  So we have other solutions exist only if the determinant of a matrix is 0, and where M is is k.  Well, that seems to be negative 4 plus lambda squared, so that's 0, exactly 1 lambda square
equals 4, which is lambda is plus or minus 2. So already you see here, I set a little bit of difficulty, that's a little bit much for an exam, but perfectly fine for a problem set of a
beautiful lecture on this one.  So how do we deal with, well, we have two cases to look at, lambda equals 2, or lambda equals
2, let's start with lambda equals 2. If I set lambda equals 2, what does this equation become? Well, it becomes x equals y, this one becomes y equals x, well, this seems to be the same, x equals y, and then the
equation x, y equals 3,  well, x square equals 3. So I have two solutions, 1 is x equals root 3, and therefore, y
equals root 3 as well, or negative root 3, negative root 3. Let's look at the other case. If I set lambda equal to negative 2, then I get 2x equals  if 2y, that means x equals negative y, the second one, 2y equals negative 2x, that's y
equals negative x, well, that's the same thing, and xy equals 3 becomes, well, negative x squared equals 3. Can we solve that? No. So there's no solutions here. So now we have two candidate points,  which are these two points, root 3, root 3, or negative
root 3, negative root 3. So let's actually look at what we have here. Well, maybe you can't trade the coordinates, but actually the point that I have here is, indeed, root 3, root 3, root 3. And how do we see that lambda equals 2? Well, if you look at this picture, the gradient of f, that's the blue vector  is indeed twice the yellow vector, which is where you're
reared, the value of lambda, and we have the other solution, which is somewhere here, negative root, free, negative root, free, and there, again, lambda equals 2, the 2 vectors are  a guarantee to be absolute minimum or maximum, there guarantee to be somehow
critical points under the constraint. So that means if you were able to solve a little bit of a negative variable, it would be critical points. So then you have the same problem as with critical points, of a maximum or minimum, and the answer is what we want to know until we check.  So what is a log-range multiplier? So what is a log-range multiplier? Well, this number lambda is called the multiplier here. It's a multiplier because it's what you have to multiply a gradient of g by to get a gradient of f.  So let's try to see why is this method valid? Because so far, I've shown you a picture, and I've said, well, c, they're tangent, but why is it that they have to be tangent in general?  find min or max. So what that means is that if I move on the
level g equals constant, then the value of f should only increase or only decrease, but it means in particular, to first order, it will not change.  So only in the allowed directions, and the allowed directions are those that
stay on the unver-level surface g equals constant. So in any direction along the level set g equals c, the rate of change  f must be 0, that's what happens at minimum or max, except here, of course, we look only at the
allowed directions. So let's say the same thing in terms of directional derivatives  So that means for any
any  direction that's tangent to the constraint
level g equals c, we must have df, ds in the direction of u equals 0.  now, I mean, free variables just to give you different examples. So here I have a
level surface g equals c, I'm at my point, and if I move in any direction that on a variable surface, so I move in a direction, you, that tangent to a variable surface, then the right of change of f in that direction  Now, remember what's the formula for this guy? We've seen that this guy is actually
righton f, dot, you. So that means any such vector you must be perpendicular to the gradient of f.  So that means that the gradient of f should be perpendicular to anything that's tangent to this
level, so that means the gradient of f should be perpendicular to the level set.  that we know another vector that's also perpendicular to
value-level set of g, that's the gradient of g.  a little to the gradient of g, because both are perpendicular to the
value set of g. I see confused faces, so let me try to tell you again, again, we have at cums form. So we said, if we have a constant minimum or maximum, if we move in the set of g, f doesn't change.  g equals c, the direction or the derivative of f in any such direction
would be 0. That's what we mean by a critical point of f. And so that means that any vector you, you had, any unit vector tangent to the level set of g, is going to be perpendicular to the gradient of f.  to the level set of g. If you want, that means the level set of f and g are
tension to each other. So that's justifying what we've observed on the picture, that the two level sets have to be tangent to each other at the constant minimum or maximum.  So since I've been asked by several of you, how do I know if it's a
maximum or a minimum, well, warning the method doesn't tell whether a solution  or a maximum. So how do we do it? Well, more bad news, we can't use the second derivative test. And the reason for that is that we care actually only  these specific directions that are tangent to the
value of g, and we don't really, I mean, we don't want to hover to try to define directional second derivatives, not to mention that it wouldn't work.  f equals free, a point where f equals 9, a point where f equals 15, well, then
probably the minimum is the point where f equals free and the maximum is 15. Actually, in this case, what we found minimum, these two points are tied for minimum.  idea is if we have a good reason to believe that there should be a minimum, and it's not like at infinity or something like that, then the minimum will be a
solution of the large range of multiplayer equations. So we just look for all the solutions and then we choose the one that gives us the lowest value.  So to find a minimum of a maximum of a minimum,  we compare the values of f at the
verius solutions to the molecular or multiply our equations, to the molecular  OK, let's do, well, if it's say also, sometimes you can just
conclude by thinking geometrically, in this case, when it's asking you which point is close as to the origin, you can just c that your answer is the right one.  Advanced means that this one I didn't actually there to put an
part B of a problem set, so instead I'm going to do it.  a pyramid with a given 200 of these, and a given value, and so say that I have maybe in the xy plane,  I'm giving you some triangle, and I'm going to try to build a pyramid, so I have to find where to choose where to put the top of a pyramid.  So it's a total surface area. So first time I taught this class that was like a few years ago, it was just before the build the status center. And then I used to motivate this problem by saying, well, Frank Gehré has gone crazy, and he's given a triangular plot of land, he wants to put a pyramid, then it's to be the right
mount of value so that you can put all the offices in there, and he wants it to be actually covered in  gold, and because that's expensive, the MIT administration wants
him to cut the costs a bit, and so you have to minimize the total sides so that it doesn't cost too much. We'll see if MIT comes up with a pyramid building, hopefully not, could be our next dome, you never know.  problem, and let's try to think about how we can do this. So the natural way to think about it would be, what we have to look for first, what do we have to look for? We have to look for the
position of that point. Well, remember, we know that the volume of a pyramid is 1 third of R over b's times  So in fact, fixing the volume, knowing that we have fixed the
arri other base means that we're fixing the height of the pyramid. So the height is completely fixed. What we have to choose, just is where do we put that top point, do we put it smack in the middle of a triangle or to a side, or even anywhere we want, but it's z-coordinate is fixed?  let's call h, right. So what we could do is something like this.  to 0, p free at x free y free 0, this point p is the unknown point at xy, h, well, if we know the height, and then we want to minimize the sum of the areas of these free triangles, 1 here, 1 here, 1 here, and 1 at the back. And the areas of triangles we know how to use by using the length of
close product, so that becomes a function of x and y  And you can try to minimize it, and actually it doesn't quite work. The formulas are just too complicated, you never get there. So what happens is, maybe we need better coordinates. Why do we need better coordinates? That's because the geometry is difficult to do if you use xy.cordinates. Formula for cross product is fine, but then the length of a
vector with the annoying  and just doesn't prove good. So instead, let's think about it differently. I have one more build.  of xy, well, actually, we can't solve the minimum for the minimum. So here's an other way to do it.  use the heights of these things, and I'm going to say that the RL will be the sum of free terms, which are free basis and free heights.  is directly below p, let's call Q, so p is the point that coordinates x, y and h, and let's
call Q of a point that's just below it, so it coordinates x, y0.  p3, I have my point
1, Q in the middle. So let's see, to know these areas, I need to know the base. Well, the base, I can decide that I know it because it's part of my given data.  it's a distance in space, but it's a little bit annoying, maybe I can reduce it to a distance
in the plane by looking instead at this distance here. So let me give names to the distances from Q to the sides.  from Q to the sides.  So this length here is u3, this length here is h, so what's this length here? Yeah, it's square root of u3 squared plus h squared. And similarly for these other guys, there's square roots of a
u squared plus h squared.  of a phase is a square root of u1 square plus h square, and similarly with
u2 and u3. So the side, the total side RL is going to be, well, RL of a first phase is 1 1 1 1 1 1 1 of b's times  1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
doesn't look so much better, but trust me, it will get better. OK, so now that's a function of free variables, you want you to you free. And how do we relate you want you to you free to each other?  then each piece has a p, let's look at say, the
p is at the bottom, it has base a free, height, u free. So get the base into free tells you that the area of a base is 1 1 1 1, 1, plus 1  1, 1, 1, 1, 1, 1, 1, 1, 1, 1,
1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1  about partial u1 is, well, if you do the calculation, you will see it's 1 1 1, a1, u1 of
of u1 square plus h square should be lambda times what's partial g partial u1, that's what you can do, and show.  things simplify again, and same with a third one, well, you will get, after simplifying,
u of a square root of u3 squared plus h squared equals lambda. So now, that means this guy equals this guy equals this guy equals this guy,  And if you think about it, that means that you want equals
you to equal you free. See, it looked like square equations, but the solution is very simple. So what does it mean? It means that our point Q should be equivalent distance from all free sides, that's called the n-center, so Q should be the n-center. So the next time that you have to build a golden pyramid and don't want to go broke, well, you know where to put the top.  that's sorry, anyway, it's not completelyethical, but go over it,
you will see it works. Have a nice weekend.