 The following content is provided under a Creative Commons license. Your support will help MIT OpenCourseWare continue to offer high-quality educational resources for free. To make a donation or to view additional materials from hundreds of MIT courses, visit MIT OpenCourseWare at ocw.mit.edu. OK, so far we've learned how to do double-integer roles in terms of x, y coordinates,  are also how to switch to polar coordinates. But, marginally, there's a lot of different changes of variables, which you might want to do. OK, so today we're going to see how to change variables if you want how to do substitutions in double integrals.  OK, so let me start with a simple example.  So, let's recall, and so there's A and there's B, and the equation of that ellipse is x over A squared plus y over B squared equals 1. Well, that's the curve, and the inside region is where this is less than 1. OK, so it's just like a circle, but where you have rescaled x and y differently.  let's say we want to find the area of that. Maybe you know what the area is, but let's do it as the whole integral. So, or you know if you find that area is too easy, you can integrate any function of R the ellipse if you prefer. But let's do it just with R the area. So we know that we want to integrate just the R the element, let's say the xdy, of the region inside the ellipse.  that's x over a squared plus y over b squared less than 1. Now, we can try to set this up in terms of x and y coordinates, you know, set up the bounds by solving for, first for x as a function of y if we do it this order, and, well, do the usual stuff. That doesn't look very pleasant, and it's certainly not the best way to do it. If this were a circle, we would switch to polar coordinates.  So an ellipse is just a squished circle. So maybe we want to actually first rescale x and y by A and B to reduce to the case of a circle. So to do that, what we'd like to do is set x over A to be u and y over B to be V. So we'll have two new variables, u and V, and we'll try to redo our integral in terms of u and V.  So, how do we do the substitution? So, in terms of u and v, the condition, the region, that we are integrating on, will become u square plus v square less than 1, which is arguably nicer than the ellipse. That's why we're doing it. But we need to know what to do with dx and dy. Well, here, the answer is pretty easy, because we just change x and y separately. We do two independent substitutions.  So if we set u equals x over a, that means d u is 1 over a d x. And here d v is 1 over b d y. So it's very tempting to write, and here we actually can write in this particular case, that d u d v is 1 over a b d x d y.  OK, so let me rewrite that. OK, so I get d u d v equals one over a b d x d y, or, equivalently, d x d y is a b times d u d v. OK, so in my double integral,  I'm going to write a b d u d v. OK, so now my double integral becomes, well, the double integral of a constant in terms of u and v. So I can take the constant out.  dv, and that is an integral that we know how to do. Well, because it's the area, it's just the area of a unit circle. So we can just say, this is a, b times the area of the unit disk, which we know to be pi. Or if somehow you had some function to integrate, then you could have switched to polar coordinates, you know, setting u equals r cos thet.  the capital V equals R-sign theta, and then doing it in below our coordinates. OK, so here the substitution worked pretty easily. The question is, you know, if we do a change of variables where the relation between x and y and U and V is more complicated, what can we do? Can we still do this or do we have to be more careful? And actually, we have to be more careful. So that's what we're going to see next.  OK, so see, the general problem when we try to do this is to figure out what is the scale factor, what's the relation between dxdy and the udv.  x to y, this is d u d d. So let's do another example. That's still pretty easy, but a little bit less easy. So let's say that for some reason we want to set, we want to do the change of variables, u equals x minus 2y and v equals x plus y.  that, well, that might be to simplify the integrand, because we're integrating a function that happens to be actually involving these guys, rather than x and y. Or it might be to simplify the bounds, because maybe we're integrating over a region whose equation in xy coordinates is very hard to write down, but it becomes much easier in terms of u and v. And then the bounds will be much easier to set up with u and v. Anyway, so whatever the real number of elements  Now, reason might be that typically it would be to simplify the integrands of a bounds. Well, how do we convert dxdy to dudv? So we want to understand what's the relation between, let's call dA the RIA element in xy coordinates.  is dx dy, maybe dy dx, depending on the order. And the area element in UV coordinates, let me call that dA prime just to make it look different. So that would just be dudv or dvdu, depending on which order I will want to set it up in. So to find this relation, it's probably best to draw a little  to show a picture, to see what happens, let's consider a small piece of the xy-plane with a real delta A corresponding to just a box with sides delta y and delta x. And let's try to figure out what it will look like in terms of hu and v. And then we'll say, well, when we integrate,  the value of the function of a lot of small boxes, times their area. But the problem is that the area of the box in here is not the same as the area of the box in UV coordinates. Maybe it will look like. Actually, if you see that these are linear changes of variables, you know that a rectangle will become a parallel neuron after the change of variables. So the area of a parallel neuron, delta A prime,  So we have to figure out how they're related, so that we can decide what conversion factor, what's the exchange rate between these two currencies for RIO. OK? Any questions at this point? No, still with me? Mostly. I see a lot of tired faces.  delta a prime of R. Why is delta a prime a power l?  And it doesn't matter whether I was looking at this side or at that side. So basically, straight lines become straight lines, and if they are parallel, they stay parallel. So if you just look at what the transformation from x, y to uv does, it does this kind of thing. Actually, this transformation here, you can express by your matrix. And remember, we've seen what matrices do to pictures, which just take straight lines to straight lines. They keep the notion of being parallel, but of course, they mess up lengths, angles, and all that.  OK, so let's see. So let's try to figure out what is the area of this guy. Well, in fact, what I've been saying about this transformation being linear and transforming all of the vertical lines in the same way, or the horizontal lines in the same way, tells me also I should have a constant scaling factor.  doesn't depend on where my rectangle is. If I move my rectangle to somewhere else, I have the right angle of the same size, same shape, somewhere else. So in fact, I can just take the simplest rectangle I can think of and see how its aria changes. And if you don't believe me, then you know, try with any other rectangle, you will see it works exactly the same way. OK, so I claim that the aria scaling factor,  Here, in this case, it doesn't depend on the choice of the right angle. And I should say that because we're actually doing a linear change of variables.  So, you know, somehow the exchange rate between u, v, and xy is going to be the same everywhere. So, let's try to see what happens to the simplest right-angle I can think of, namely just the unit square. And, you know, if you don't trust me, then, you know, why I'm doing this one, do it with a different right-angle, do the same calculation, and see that you will get the same conduction ratio.  let's say that I take a unit square, so somebody that has size that goes from 0 to 1, both in x and y directions. OK, and let's try to figure out what it looks like on the other side. So here, the area is 1. Let's try to draw it in terms of u and d coordinates.  So here we have x equals 0, y equals 0. Well, that tells us u and v are going to be 0. Next, let's look at this corner. Well, in xy coordinates, this is 1, 0. If you plug x equals 1, y equals 0, you get u equals 3, v equals 1.  And so this edge of the square will become this line here. OK? Next, let's look at that point. So that point here was 0, 1. If I plug x equals 0, y equals 1, I will get negative 2 and 1.  So this edge goes here. Then if you put x equals 1, y equals 1, you'll get u equals 1, v equals 2. So I want 1, 2. And these edges will go to these edges here. And you see it does look like a parallel logon.  OK, so now what's the area of this parallelogram? Well, we can get that by taking the determinant of these two vectors. So one of them is 3a1, and the other one is minus 2a.  is apparently 5 times the size of this square. Here it looks like it's less because I've somehow changed my scale. I mean, my unit length is smaller here than here. So, but it should be a lot bigger than that. OK, and if you do the same calculations, not with 0 and 1, but with x and x plus delta x and so on, you will still find that the area has been multiplied by 5. So that tells us,  actually for any of our rectangle, Ria is also multiplied by 5. So that tells us that dA prime, the Ria element in UV coordinates, is worth five times more than the Ria element in xy coordinates.  So that means the UdV is well of 5 times the xdy.  So, OK, right-angle. OK, is it OK now? Did I misspattle other words? No? OK, it's really hard to see when you're that closer. It's much easier for me to distance.  So, yes, so we've said our transformation  I place them by using these and the bounds, well, the shape of my region in the xy coordinates, I will have to switch to some shape in the UV coordinates. And that's also something that might be easier, might be tricky, depending on what region we're looking at. So, usually we'll do changes of variables to actually simplify the region. So, that becomes easier to set up the bounds.  So this is kind of an illustration of the general case, and why is that? Well, here it looks very easy. We're just using linear formulas, and somehow the relation between the xd over n d u dv is the same everywhere. If you take actually more complicated changes of variables, that's not true, because usually you will expect that there's some places where the rescaling is maybe enlarging things, and some of our places where things are shrunk.  And then if you exchange rate between dudv and dxdy, will fluctuate from point to point. Same as if you're trying to change dollars to euros, it depends on where you do it. You will get a better rate or a worse one. So we have to, of course, we'll get a formula where actually this scaling factor will depend on x and y or on u and v. But if you fix a point, then we have linear approximation. And linear approximation tells us,  function is just a linear function of x and y. So then we can do it the same way we did here. OK, so let's try to think about that. So in the general case, well, that means we'll replace x and y by new coordinates, u and v, and u and v will be some functions of x and y.  So, well, we'll have an approximation formula, which tells us that the change in U, if I change x or y a little bit, will be, roughly, u sub x times changing x plus u sub y times changing y. And the change in V will be, roughly, V sub x delta x plus V sub y delta y. The other way to say it, if you want in matrix x,  form is delta u delta V is so approximately equal to use of x, use of y, vis sub x, vis sub y times delta x and delta y. So if we look at that, what it tells us, in fact, is that if we take a small  So, rectangle in xy coordinates. So, that means we have a certain point xy, and then we have a certain width.  And I want to respond to a small UV parallelogram. And what the shape and the size of that parallelogram are depend on the partial derivatives of U and V. So in particular, they depend on at which point where.  And so if we do the same argument, as before, what we'll see is that the scaling factor is actually the determinant of this transformation. So that's one thing that maybe we did not emphasize enough when we did matrices at the beginning of the semester, but when you have a linear transformation between variables, the determinant of that transformation represents how it's  are also in the scales are also. So one way to think about it is just to try and see what happens. Take this side in xy coordinates corresponds to delta x and 0. And now if you take the image of that, if you see what happens delta you and delta V, that will be basically use of x delta x and V sub x delta x.  And maybe I should do it, actually. So, you know, if we move in the xy coordinates by delta x and 0, then delta u and delta v will be u sub x, be approximately, u sub x delta x, and v sub x delta x.  in the other hand, if you move in the other direction, along the other side of your rectangle, 0 and delta y, then the change in you and the change in V will correspond to, well, how does you change? That's U sub y delta y, and V change is by V sub y delta y. And so now, if you take the determinant of these two vectors, OK, so these are the sides of your parallel graph up here.  of the parallelogram, you will need to take the determinant. And the determinant will be the determinant of this matrix times delta x times delta y. So the area in UV coordinates will be the determinant of the matrix times delta x delta y. And so what I'm trying to say is that,  when you have a general change of variables, dudv, versus dxdy, is given by the determinant of this matrix of partial derivatives. OK, it doesn't matter in which order you write it. I mean, you can put, you know, in Rolzano-Weiern-Colombs. If you transpose a matrix, that doesn't change the determinant. It's just, you know, any sensible matrix that you can write will have the correct determinant.  So.  OK, so what we need to know is the following thing. So we define something called the Jacobian of a change of variables. And usorel letter j, or maybe a more useful notation, is partial of uv over partial of xy.  it's just a notation to remind us that this has to do with the ratio between the udv and the xdy. And it's obtained using the partial derivatives of u and v with respect to x and y. So it's the determinant of the matrix, use of x, use of y, this of x, this of y.  And what we need to know is that the u d v is equal to the absolute value of j, the x d y. Now, if you prefer to see it in the easier to remember version, it's absolute value of d of u, the other partial xy, the x d y.  what you need to remember, and it says that the area in UV coordinates is worth, well, the ratio to the area in the x-way coordinates is given by this Jacobian determinant, except one small thing. It's given by actually the absolute value of this guy. OK? So what's going on here? What's going on here is when we are saying the determinant of the transformation tells us how the area is multiplied.  remember, determinants are equal to areas up to sign. Sometimes the determinant is negative because of reversing the orientation of things. But the area is still the same. Area is always positive. So the area elements are actually related by the absolute value of this guy. So if you find minus 10 as your answer, then d u d v is still 10 times d x d y.  So, yeah, I mean, I didn't put it all together, because when you would have two sets of vertical bars, I mean, this is a vertical bar for absolute value, this is a vertical bar for determinant, they're not the same. That's the one thing to remember. OK, any questions about this?  So, actually, let's do a first example of that. Let's check what we had for polar coordinates. Last time, I told you, well, if we have dx dy, we've switched it to RDR dtheta. And we had some argument for that by looking at the area of a small  again, using this new method. So in polar coordinates, I'm setting x equals r cosine theta, y equals r sine theta. So the Jacobian for this change of variables, so let's say I'm trying to find the partial derivatives of xy with respect to r theta.  write them here again, just for you. And so what does that become? Partial x over partial R is just cosine theta. Partial x over partial theta is negative R sine theta. So let me do it underneath.  So we say x sub R is cosine theta. x sub theta is negative R sine theta. y sub R is sine. y sub theta is R cosine. And now if we compute this determinant, we'll get R cosine square theta plus R sine square theta.  guys to R, so dxdy is, well, absolute value of R, dr d theta. But remember that R is always positive, so it's r dr d theta. OK? So that's another way to justify how we did double integrals in polar coordinates.  OK, any questions on that? Yeah, OK. Are we switching from polar to xy or xy to polar? Yeah, so this one seems to be switching. Well, it depends what you do. See, so, OK, actually, here's an important thing that I didn't quite say.  So I say we're going to switch from xy to UV. We can also switch from UV to xy. And this conversion ratio, the Jacobian, works both ways. Once you have found the ratio between d u d v and d x d y, then it works one way or it works the other way. Here, of course, we get the answer in terms of R. So this would let us switch from xy to R theta.  xy, just with right dr d theta equals one over R, the xd y, and then we'd have, of course, to replace R by its formula in xy coordinates. Usually we don't do that. Usually we actually start with xy and switch to polar orbit. So in general, when you have this formula relating the udv with the xd y, you can use it both ways. Either to switch from the udv to the xd y or the other way around.  And the thing that I'm not telling you, that now I should probably tell you, is I could define two Jacobians, because if I solve for xy in terms of uv, instead of uv in terms of xy, then I can compute two different Jacobians. I can compute partial uv of a partial xy, or I can compute partial xy of a partial uv, if I have a formula as both ways. Well, the good news is these guys are the inverse of each other. So, the two formulas that you might get  consistent.  useful remark, you can also say that you can compute both these guys.  which ever one is the easiest to compute, no matter which one of the two you need. And one way to see that is that, in fact, we're looking at the determinants of these matrices that tell us the relation between the variables. So, if one of them tells you how delta you delta V,  that think it means there are the inverse matrices. And the determinant of the inverse matrix is the inverse of the determinant. So they're really interchangeable. I mean, you can just compute whichever one is easiest. So here, if you wanted DR dtheta in terms of dxdy, it's easier to do this and then move the R over there than to first solve for R and theta as functions of x and y, and then do the entire thinking game.  but you can do it if you want. I mean, it works. Oh, yeah, the other useful remark. So I mentioned it, but let me emphasize again. So now the ratio between dU, dV and dXdY, it's not a constant anymore. Over there, it used to be 5, but now it's become cR or anything.  you can just say, oh, I'll put a constant times dudv. Yes?  that, and then you know a circle would stop looking like a disc would look like that, and it would be very counterintuitive, but you could do it, and that would be equivalent to what we did with the previous change of variables. So, in this case, certainly you would never draw a picture like that.  let's do a complete example to see how things fit together, how we do everything. So let's say that we want to compute. So I have to warn you, it's going to be a very silly example. It's an example where it's much easier to compute things without the change of variables, but you know. It's good practice in the sense that we're going to make it so complicated that if we can do this one, then we can do them all.  So let's say that we want to compute this, and of course, it's very easy to compute it directly. But let's say that for some evil reason, we want to do that by changing variables to u equals x and v equals xy. OK, that's a very strange idea, but let's do it anyway. I mean, normally, you know you would only do this kind of substitution if either it's simple,  a lot of the function you're integrating, or it's simply a lot of the region on which you're integrating. And here, it never happens. So, but anyway, so the first thing we have to do here is figure out what we're going to be integrating. So to do that, first we should figure out what dxdy will be common in terms of u and v. So that's what we've just seen, using the Jacobian. So the first thing to do is find the area element.  And for that we use the Jacobian. So, well, let's see. The one that we can do easily is partial of u and v with respect to x and y. I mean, the other one is not very hard, because here you can solve easily. But the one that's given to you is partial of u and v with respect to x and y. So partial u partial x is 1. Partial u partial y is 0. Partial v partial x is y.  Now, V powerful y is x. So it's just x. So that means that d u d v is x d x d y. Well, it would be absolute value of x, but x is positive in our region. So, at least we don't have to worry about that.  OK, so now that we have that, we can try to look at the integrand in terms of Q and V. OK, so we were integrating x squared y dx dy. So let's switch it.  well, let's first switch the xdy that becomes one of our x dudv. So that's actually xy dudv. And what is xy in terms of q and v? Well, here, at least we have a little bit of luck. No, xy is just v. So that's v dudv. So in fact, what we'll be computing is a double integral.  other some mysterious region of V dU dv. OK, now last but not least, we'll have to find what are the bounds for U and V in the new integral, so that we know how to evaluate this.  In fact, well, we could do it dU dv or dv d, we not know yet. Oh, amazing. It went all the way down this time.  So, it could be dvdU, if that's easier. So, let's try to find the bounds. That's, in this case, that's the hardest part. So, let me draw a picture in xy coordinates and try to understand things, using the real numbers.  that. So x and y go from 0 to 1, the region that we want to integrate over, was just this square. Let's try to figure out how you and V vary in there. So let's say that we are going to do, let's say we're going to do it d u d v.  we want to understand is how you and V vary in here. What's going to happen. So the way we can think about it is we try to figure out how we are slicing our region. OK, so here we are integrating first over u, that means we start by keeping u constant, no, by keeping v constant as u changes. OK, so, u changes as v,  is constant. What does it mean that I'm keeping V constant? Well, what is V? V is xy. So that means I keep xy equals constant. What does the curve xy equals constant look like? Well, it's just a hyperbola. OK? Y equals constant over x. So if I look at the various,  values of V that I can take, for each value of V, if I fix a value of V, I will be moving on one of these red curves. OK? And U, well, U is the same thing as x, so that means U will increase, you know, here maybe it will be 0.1 and it will increase to all the way to 1 here. OK, so we're just traveling on each of these slices.  So the question we must answer here is for a given value of V, what are the bounds for you? So I'm traveling on my curve, V equals constant, and trying to figure out when do I enter my region? When do I leave it? Well, I enter it when I go through this side. So the question is, what's the value of you here? Well, we don't know that very easily until we look at these formulas.  So u equals x, but we don't know what x is at that point. Well, u equals x and v equals xy. What do we know here? Well, we don't know x, but we know y, certainly. So let's forget about trying to find u. And let's say for now we know y equals 1. Well, if we set y equals 1, that tells us that u and v are both equal to x.  So in terms of Q and V, the equation of this in UV coordinates is U equals V. OK? And the other way to do it is say that you know you want y equals 1. You want to know what is y in terms of Q and V. Well, it's easy. Y is V over U. So let me actually add an extra step in case that's. So we know that y is  the other you equals 1, so that means you equals V, is my equation. OK, so when I'm here, when I'm entering my region, the value of you at this point is just V, you equals V. That's the hard part. Now we need to figure out, you know, so we start at you equals V, you increases, increases, increases, where does it exist?  takes its own way out here, what's the value of you here? 1. That one is easier. This side here is x equals 1, that means you equal as 1. So we start at you equals 1. Now, we've done the inner integral. What about the outer? So we have to figure out what is the last value of V,  that we'll want to consider. Well, if you look at all these hyperbolas, xy equals constant. What's the smallest value of xy that we'll ever want to look at in here? 0. OK? Let me actually, where's my yellow chalk? Is it? No. So this one here, that's actually V equals 0. So we'll start at V equals 0.  And what's the last hyperbola we want to look at?  this way, you know, in case it works well, just try to picture what are the slices, in terms of u and v, and how you travel on them, where you enter, where you leave, staying in the xy picture. If that somehow doesn't work well, another way is to draw the picture and be uv, the coordinates.  So what do I mean by that? Well, we had here a picture in xy  that's what we've done over there. So, u equals v. Now, we have the two other sides to deal with. Well, let's look at this one first. So, that was x equals 0. What happens when x equals 0? Well, both u and v are 0. So, this side actually gets squished in the change of variables. It's a bit strange, but it's a bit of the same thing as when you switch to polar coordinates at the origin. R is 0, but theta can be anything.  And sometimes not always in one point is one point. So, anyway, this is the origin. And then the last side, y equals 0, and x varies, just becomes V equals 0. So, somehow, in the change of variables, this square becomes this triangle. And now, if we want to integrate dU, dv, it means we're going to slice by V equals constant.  going to integrate other slices like this, and you see for each value of V, we go from U equals V to U equals 1, and V goes from 0 to 1. So you get the same bounds just by drawing a different picture. So it's up to you to decide whether you prefer to think on this picture or draw that one instead. It depends on which problems you're doing.