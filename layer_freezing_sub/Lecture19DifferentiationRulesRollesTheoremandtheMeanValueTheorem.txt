 So let's continue with our discussion of the derivative. Let me recall that the derivative of a function if it exists.  which we denote by f prime of c, this is the limit as x goes to c of f of x minus f of c over x minus c. OK? Last time, we looked at the relationship between continuity and differentiability, and showed that differentiability implies continuity, but that having a direction,  The derivative is quite a miraculous thing, because there are continuous functions, which we actually constructed. We constructed a continuous function, you can generalize that example. So we constructed a continuous function that is differentiable nowhere. So in fact, differentiability is a much stronger condition than continuity, and it's something of a miracle.  OK, just as a side note, if you go on to study a complex analysis, which are functions of a complex variable, rather than a real variable, you also have the notion of a derivative there. And then the derivative is much more miraculous than it is here in the setting of R. But the whole point is the derivative is something of the miracle.  the goal is to prove some properties about the derivatives. Most of these you know, maybe you didn't cover the proofs of them in calculus. With the ultimate goal of proving the mean value theorem, which is, to me, kind of probably the most underappreciated but most important result in calculus, now you,  could argue that probably the hero of the story of calculus is the fundamental theorem of calculus, which connects integration, which we'll cover next after differentiation, which so the fundamental theorem of calculus connects integration and differentiation. So that really is, but and that is really the hero of calculus gets used more than anything else. But to prove that, you use the mean value theorem.  So if the fundamental theorem of calculus was Batman, I would say the mean value theorem is something like Alfred. He's really the reason why Batman gets to be who he is. All right, enough analogies for now. Let's go back to proving some properties of the derivative. So first, let's do some basic.  the basic linearity and rules for the derivative. So let f go from i to r. i is always some interval. Then if f, so I have two functions f and g from i to r, c is a point in i.  I, and the conclusion is if f and g are differentiable at c, then we have several rules that we can apply. The first is basically the linearity.  of the derivative that for all alpha in R, the function alpha f plus g, which now goes from i to r, is differentiable at c, and the derivative of the function alpha f plus g, prime c, is,  is alpha times f prime of c plus g prime of c. OK. I'm starting to write a little  is differentiable at c and the derivative of the product is not the product of the derivatives, but the prime of c, g of c plus f of c, g prime of c. So that's a multiplication rule, and then we also also have the quotient rule.  And just like when you need to divide by something, you need to assume that you're never dividing by 0, if g of x does not equal 0 for all x and i, then the function f over g.  is differentiable at c, and the derivative of the top, times the bottom, minus the top, times the derivative of the bottom, over the bottom square.  not prime g of c squared. OK? So I'll prove 1 and 2. 3 will leave as an exercise.  So for one, we just compute that the limit as x goes to c of alpha f plus g of x minus alpha f plus g of c over x minus c. This is just, by definition, alpha times f of x plus g of x minus alpha times f of c plus g of c. And so this equals the limit.  So as x goes to c in just collecting terms, alpha times f of x minus f of c times x minus c plus g of x minus g of c over x minus c. And all of these limits exist. So this is just a fixed number.  was the c of this exists and this exists. So by what we know about limits, namely that the limit of the sum is the sum of the limits. And then scalars just pull out of the limit. This is equal to alpha times f prime of c plus g prime of c. So that's proof of the first one. For the proof of the second one, we'll use the fact that a function is  direction, which is differentiable at a point, is also continuous at a point. So g is differentiable at c. It is continuous at c, i.e. limit as x goes to c of g of x equals g of c.  Now we compute the limit as x goes to c of f times g of x minus f of c times g of c over x minus c. Now what I'm going to do is add and subtract f of c times g of x. So this I can write as the limit as x goes to c of f of x.  minus f of c over x minus c times g of x, plus now f of c times g of x minus g of c over x minus c. And again, so this limit as x goes to c exists,  s, this is just the derivative of f at c. And we noted that since g is differentiable at c, g is also continuous at c, meaning the limit as x goes to c of g of x equals g of c. This is just a constant f of c, this goes to g prime of c. So all these limits exist. And therefore, we get that this is equal to f prime of c times g of c plus f of c, g prime of c.  I'll leave as an exercise. Again, you'll write out, you'll add and subtract something to f of x over g of x minus f of c over g of c, and use the fact that we have continuity, that differentiability at a point implies continuity, and just evaluate the limit. So I'm going to stop with these two rules.  I don't know why I called it the multiplication rule. It's called the product rule. Well, multiplication and product, the same thing. But we also have the chain rule, which requires a little more care to prove than what we've done so far for these rules.  So suppose I have two intervals. And then I have a function g going from i1 to i2, f going from i2 to r. And suppose g is,  differentiable at c and f is differentiable at g of c. Then the function f of g, which now goes from i1 to r,  will add c, and the derivative equals f prime of G of c times G prime of c. OK.  So what's kind of the basic idea, again, so this is basic idea, is that we write the difference quotient.  g of x minus f of g of c over x minus c as f of g of x minus g f at g of c times over g of x minus g of c times x minus c.  And let x go to c, and then we'll pick up the derivative of g here at c, and right here, this is f of something converging to g of c. And so this should be like f prime of g is c. But the only problem with really writing this down is that there could be points where g of x equals g of c, and then I'm dividing by 0, that's not allowed. So writing this expression is meaningless.  something like this in spirit, where at least when g of x does not equal g of c, this thing kind of equals this thing. OK? That's kind of the basic idea. OK? So to implement this strategy, let's introduce some notation.  and a few auxiliary functions. So first off, the function we're interested in, taking the derivative, f of g, let me call that h of x, because I don't want to have to keep writing f of g of x. Let's call d. This will be the point g of c. So we want to show.  and that h prime of c exists, and it's equal to f prime of d times g prime of c. Yeah? Just in this notation I've set up. OK. So now let me define some auxiliary functions, u of y. This is going to be essentially the difference quotient of f, except at.  So certain points, so this is f of y minus f of d over y minus d, when y does not equal d, so that this is meaningful, and then f prime of d when y equals d. And then V of x, so this is going to kind of play the role of that first expression I wrote up there, f of g of x minus f of g of c.  And then V of x, this will be g of x minus g of c. x minus c when x does not equal c and g prime of c when x equals c. Now, essentially what?  what do we have here? Then if I look at f of y minus f of d, this is equal to u of y times y minus d, always, right? Because if y does not equal d, then I divide over and I get u of y, then I get f of y minus f of d on the left-hand side over y minus d, and that's equal to x.  that's equal to u of y by definition. And then when y equals d, I get 0 here and I get 0 over here. So that's clear. And also, the same here, g of x minus g of c equals d of x minus m times x minus c. OK? All right, so we have these two.  expressions, and one more thing I want to note, is that u and v are continuous at y equals d and x equals c, respectively. So note that v of y is continuous at d and v of x is continuous at c.  let's look at the proof of that. We just need to show that the limit as y goes to d of V of y equals V of d. So compute the limit as y goes to d of V of y. Now, when we look at limits, remember, we're not allowed to put y equals d in the expression for this limit. We're always looking at points y close to d, but not equal to d is what I'm saying.  y is near d and not equal to d, V of y is given by, I should, this is, should have written, you here, sorry, you, OK? OK, so we're looking at y near d, but not equal to d, and therefore, it's given by this expression, right? So this is the limit as y goes to d of f of y minus f of d over y minus d.  And this is just the definition of the derivative of f at d. So remember d is g of c, so f is differentiable there. And this is by definition, u of d. So this function, u, is continuous at y equals d. And similarly, the limit as x goes to c of x, b of x,  equals V of c, which is g prime of c. So now we're going to combine what I've written here to finish the proof. So in h of x minus h of c,  So this is equal to f of g of x minus f of g of c. And this is equal to u of g of x times g of x minus g of c. This is from this relation here. So I'll call this one star.  So this is by star. And now I use the second relation, double star, to write g of x minus g of c equals b of x times x minus c. And therefore, the limit as x goes to c,  to c of h of x minus h of c, where x minus c, this is equal to the limit, as x goes to c, of u of g of x times v of x. Now, u is continuous at g of c. g is continuous at c. And we proved that the converse  composition of two continuous functions is continuous. So this equals u of g of c, and V of x we've proven already, that limit is V of c. And u of g of c, so this is d. Remember in the notation we had earlier, and therefore that equals f prime of g of c.  c was d, times g prime of c. So to go from this point to this point, we use the fact that u is continuous at c, which we proved, u is continuous at g of c, which we proved over there, and that g is continuous at c, and therefore the composition of two continuous functions,  this continuous at that point to arrive at this guy. But again, the whole basic idea was to be able to write the difference quotient as kind of a product of what looks like the difference quotient of f times the difference quotient of g. But you have to be careful because g of x could equal g of c, in which case you're dividing by 0 in this basic idea we had up there, which is not allowed.  by using these functions which equal what you want, as long as you're not dividing by 0, basically. So that wraps it up for basic properties of the derivative.  trying to prove the mean value theorem. The Alfred of this Batman tale. But first, in order to prove this, we'll need a result about  The derivative in relation to certain relative minimum and relative maximum, so let me first define what this means. Let S be a subset of R. F be a function from S to R. We say f has a relative max.  at c in S if there exists a delta positive such that for all x in S, x minus c is less than delta, then f of x is less than or equal to f of c. So the picture here, and then let me  state that there's analogous definition of relative men. Let's see. You just take this entire definition and flip the inequality. OK? That's the definition for relative men. So what this means pictorially, so remember we had this notion of absolute men and absolute men.  max, an absolute max at a point c means every other point in S, f of x lies below f of c. Here we're just saying as long as you're close to the point c, then  let's say our function looks something like that. So then, say we're at this point here. So this would be absolute max, because the graph of the function sits below  So the value of the function at this point, for all x in this interval, a, b. And then here at this point, we would have an absolute min. Because the graph of the function sits above that point for all x in this interval.  say, this would be a relative max. OK, because why if I look at, you know, an interval, small interval around it, and I look inside this interval, there's too many dashed lines going on, so I'm going to erase this.  Yeah, I'm just going to do away with the dash. If I zoom in on just this one piece of the graph, then at this point, the graph sits below this point inside this little vertical strip. So this guy would be a relative max. And then similarly, at this point here,  here, maybe it's a, let me, so you can really see what the graph is. It should have brought different colors. At this point, we have a relative min, right? Because nearby points sit above the value of the function evaluated at this point.  So relative max means nearby points, f sits below that, f evaluated at that point, and relative min is the other way around. So I don't think we need to belabor the point of what relative min relative maxes are. I think that's pretty clear.  OK, so the theorem is the following.  c strictly inside this closed interval, in the open interval AB, then and f is differentiable at c, then f prime of c equals 0. Right? And this is kind of clear from this picture, although this kind of might look more like a sawtooth, but it shouldn't.  that the tangent at this point is horizontal, and the tangent at this point is horizontal, which is the expression that was just expressing that f prime of c equals 0. So f prime of c is supposed to be the slope of the tangent. So the idea of the proof is  And we'll do it for relative max, relative men you get by taking minus f. So we'll do it for, suppose f has a relative max at c and a, b. OK.  So I'm just going to draw a picture to illustrate why this is the case. So why what I'm about to say is the case. So we have A, B. We have C. Then there exists delta positive. Say delta 1. Such that two things are true.  x or c minus delta 1, c plus delta 1, is contained in A, B, 2 for all x in c minus delta 1, c plus delta 1, f of x is less than or equal to f of c. OK, so, you know,  delta 1 is chosen as the minimum of, so maybe, let me not call it delta, let me, 1, let me just call it delta. So, first off, you know that a, b, open interval, this is an open set, which we've encountered in the assignments, so, you can find a delta, so that,  delta 0 say, so that this interval centered at c is contained in a, b. Now, since f has a relative maximum at this point, there exists another delta 1 say, so that if I'm inside that interval, then f of x is less than or equal to f of x.  f of c for all x in that interval. And I choose delta to be the minimum of these two deltas. And then I will have chosen delta, so that x, that c minus delta, c plus delta is, so here, this one is,  And then delta 0 shows us so that that is contained. So I choose the minimum of these deltas, and this is the delta I take for this statement. OK? All right. So now the way we get that the derivative is 0 is we're going to approach c from above and from below, and use the,  of the fact that we have a relative max to show that the derivative is both bigger than or equal to 0 and less than or equal to 0. So let xn be c minus delta over 2n, which is in the interval c minus delta c for all n.  Then, what do we know? xn, the limit as n goes to infinity of c minus delta over 2, n converges to c. So, the derivative at c is equal to the limit as n goes to infinity of f of x sub n minus f of c.  over x sub n minus c. Now, what do we note? So x sub n is in this interval here, which is contained in this interval here. And therefore, f of x sub n is always less than or equal to f of c. So what's on top is always less than or equal to 0. OK? Now, x sub n is always less than c. So this thing on bottom is also less than 0.  0, and therefore, something that's less than or equal to 0 on top, over something  for all n, then x in converges to c. And we look at f prime of c. Again, this is equal to limit as n goes to infinity of f of y sub n minus f of c over y sub n minus c. Again, f of c is a relative maximum. So this thing on top is still less than or equal to 0.  So and the thing on bottom though is now since y sub n is bigger than c, this is positive. So something on top is negative, something on top is positive, so the limit must be negative. So we've just shown f prime of c is both bigger than or equal to 0, and that it's also less than or equal to 0.  And therefore, the derivative is 0 at this point. OK. Again, the proof for a relative minimum is, you know, very similar, except that inequality flips signs.  get this is less than or equal to 0, this one would be bigger than or equal to 0. But you still get f prime of c is bounded between 0 and 0. So at a point where we have a relative minimum strictly inside the interval, the derivative must be 0.  And the fact that it happens strictly inside the interval is important. This is not necessarily true if the max or relative min happens at an end point. Think of f of x equals x on 0, 1. And it has a absolute minimum at 0, absolute maximum at 1, and the derivative is 1 at both points, not 0. So this is only for relative min, relative maxes that occur strictly inside the interval that  at the functions defined on and where it's differentiable. OK, so now we have Rolz-Theorem, which is essentially the mean value theorem rotated. We'll get the mean value theorem from Rolz-Theorem, which states the following.  fb from AB to R, B continuous at every point in AB, differentiable at every point inside of AB. It could be differentiable at the endpoints, so it's fine  but it has to be differentiable on the open interval a, b. f of b, a, equals f of b, equals 0. Then there exists a point c in the open interval a, b. And this is important, such that f prime of c equals 0.  What's the picture that goes with this? I'm sure you've seen it before. Let me draw a function. I looks kind of like sine or cosine. But anyways, the function which is 0 here, 0 here, then there has to exist a point where the tangent is vertical. In fact here,  can occur at two different points. But something that's already kind of giving the game away as far as how we'll prove this is, let's look at where the function takes a maximum and a minimum. That is the heart of the proof. And why does it even have an absolute maximum or absolute minimum?  minimum. So I guess I didn't say this over there when I discuss relative  absolute max is n is a relative max. Absolute mens is a relative min. OK? All right, so this picture is kind of given the game away already. Let's look at where the function takes a minute.  max and a min, and why does f take a max or a min? It's because f is continuous on this closed and bounded interval. This is something we proved when we were discussing continuity, the min max theorem. So let's give the proof.  on a b f achieves a relative max at some point c1, and a b, and relative min at c2, and a b.  If there exists x, well, so. If of f of c1 is positive, then what can you say? Well, c1 cannot be one of the endpoints, because at the endpoints, f of a equals f of b equals 0. Right?  This implies c1 is in the open interval a, b, which implies by the previous theorem, f prime of c1 equals 0. So here you see equals c1. If I'm at the minimum now, and this is less than 0, then again,  So this implies that c2 is in the open interval a, b, which implies, since f has a minimum at c2, f prime of c2 equals 0 by the previous theorem, and therefore we could take c equals c2. Right? If, now this is two cases, f of c1, if either f of c1 is  positive or f of c2 is less than 0, then we have the result. If f of c1 is less than or equal to 0, is less than or equal to f of c2, now remember, f achieves a max at c1, f achieves a min at c2, and therefore this should always be less than or equal to this.  So first off, I make sure I'm getting my logic correct here.  OK, so rather than state it this way, let's do it.  So in terms of the picture here, this would be c1, c2, where we achieve a max in a min. OK, then in the final case that f of c1 and,  Then so this is the max. 0 is equal to f evaluated at a point.  So let me go back to what I was going to say a minute ago. So in the last case that f of c1 is less than or equal to 0 is less than f of c2. Now remember, this is the min. This is the max of f. Right?  above f of c2, so that implies that f of c1 equals f of c2. And therefore, the max and min equal each other, right? Which implies for all x in A, B, since f of c1 is the minimum,  c2 is the, so I started off with something here, there, and in between, which implies, we're all x and a, b. f of x equals f of c2. So that means f is constant, right?  And we know what the derivative of a constant function is, it's just 0. So we could take say the midpoint. And that's the end. OK, so I just saw that I kind of fumbled through that for a minute, but OK.  0 at the endpoints, there has to be a point in between where the function is the derivative of the function equals 0. Now, again, we should come back to, when we see a theorem, we should pick it apart a little bit to see what's necessary, what's not.  function is continuous and differentiable on this open interval AB, are these necessary, so. Right, so for example, let's say I have the function, if I look at the right,  get the function, 1 minus the absolute value of x. So at minus 1, 1, 1. This is a continuous function on, minus 1, 1. And f of minus 1, 1, 1.  on equals f of 1 equals 0, but there is no point where f prime of c equals 0. What hypothesis did I leave out for this function? The hypothesis that is differentiable at every point in between. This function's not differentiable.  0. So this example tells you that the hypothesis that the function is differentiable on the interval minus 1, 1, or a, b, is necessary for the theorem to be true. That's what I'm getting at.  that the function is continuous on the closed interval, is also necessary. Let's say I look at, and this is pretty easy to come up with a counter example if I don't assume that. Let's take,  So let's take the function which is the function that's x minus 1 for x not equal to minus 1 and 0 for x equal to minus 1.  what does this function look like? So this function here is differentiable on minus 1 1. f of minus 1 equals f of 1 equals 0. But again, there's no point.  c in minus 1 1 so that f prime of c equals 0. OK? Because the derivative in between minus 1 1 is just 1. So both of these hypotheses that f is continuous on the closed interval and differentiable on the open interval are necessary for this theorem to be true. If you drop either of those hypotheses, then the theorem is false.  So let's rotate this picture here and arrive at the mean value theorem.  that f from AB to R, the continuous, so it's continuous on the closed interval AB, differentiable on AB. Then, there exists a c in the open interval AB.  b such that at prime of c, f of b minus f of a times b minus a. So a lot of I refer to it as  is a kind of rotated picture of an shifted kind  So the slope of that line is f of b minus f of a. And what we're stating is that there's a point, c, so that the tangent at that point is parallel to that line. OK? Has the same slope as the line connecting f of b to f of a.  So this theorem really does reduce to Rolz-Theorem. So let me define the function g from a, b to R, which satisfies the hypotheses of Rolz-Theorem.  And we'll give us what we want, basically. So g of x equals f of x minus f of b plus f of b minus f of a over b minus a times b minus x. OK? Basically what this function g does is,  is it takes the function now, and rotates it, and shifts it down, so that f, kind of, these two points then coincide and give you 0. Then g is continuous on the closed interval a, b. Why?  b, and this is just a constant. This is a polynomial. So g's continuous on a b. And differentiable on a b, again, because f is, right? f is differentiable on the open interval a, b. This part is differentiable everywhere. So the sum of two differentiable functions is differentiable.  this is differentiable on AB. So continuous on AB and differentiable on AB, since I said we're going to use Rolz-Theorem, let's compute g of a. This is equal to f of a minus f of b plus f of b minus f of a over b minus a times b.  b minus a, that cancels with that. Minus f of b cancels with f of b. F of a cancels with minus f of a, and we get 0. And then g of b, this is even easier to see. If I just stick this in, this is f of b minus f of b plus f of b minus f of a over b minus a, b minus b. And this also equals 0.  OK, so g of a and g of b are 0. The function is continuous on the closed interval. It's differentiable on the open interval. And therefore, by Rolz theorem, I think there's supposed to be some sort of accent over O. But I can't remember, and I've forgotten it already. By Rolz theorem, there exist points c and a, b, such that,  0 is equal to g prime of c, which is equal to, we take g and actually compute what the derivative is at c is equal to f prime of c. That's a constant derivative of that is 0. This times this, the derivative of x evaluated at c, just gives me minus f of b, minus f of a.  times b minus a, and that's it. 0 is equal to f prime of c minus what we want. We move that to the other side, multiply through by b minus a and we're done.  OK, so some first very nice applications of the mean value theorem, which I think you've learned from calculus, or the following.  Let f from Idr be differentiable, meaning it's differentiable at every point in the interval i. Then we have two conclusions. f is increasing.  meaning, let me recall what that means for f to be in increasing, that means that if x is less than y, this implies f of x is less than or equal to f of y. This is equivalent to, for all x and i,  f prime of x is bigger than or equal to 0. So remember, f is, f prime is the rate of change. If the rate of change is always non-negative, then f has to be growing. So this says f is decreasing, meaning x less than y implies f of x is bigger than or equal to f of y. This is equivalent to, since a function is increasing,  if and only if minus f is decreasing, this inequality should flip. So I'm going to do increasing, decreasing follows from number 1, by taking minus f.  So let me just tell you do I have? OK, I still have time. So suppose first that f prime of x is always non-negative.  f, let a, b, b and i, excuse me. We now want to show f of a is less than or equal to f of b. Then f is continuous.  on this smaller interval, a, b. Why? Because f is differentiable at every point in i, and therefore, it is continuous at every point in i. So in particular, on this smaller interval, and differentiable on a, b, which implies there exist a c.  n a b, so by the mean value theorem, such that f of b minus f of a equals f prime of c times b minus a. And now since the derivative is always non-negative, and b minus a is positive, this is bigger than or equal to 0, i.e.  minus f of a is bigger than or equal to 0. So we prove in one direction. We've proven that if you like, that the function's derivative being non-negative implies that the function is increasing. So now let's prove the opposite direction.  So, suppose f is increasing, and c is in i. Let x in be a sequence.  n i such that x n converges to c, and one of two things holds, and either, say, a, role n, x n is less than c, or b,  well, nxn is bigger than c. And we can always find such a sequence, given a point c in the interval i. So if I, so let's say it's a closed interval and c is in here, then we can find a sequence xn converging to c approaching c from the left.  if c is one of the endpoints, then we can find a sequence from I approaching c from the right, that's b, right? And the same thing if c is over here, we can find a sequence approaching c strictly from the left, OK? So there always exist such a sequence.  And this is because i is an interval. OK? And if the sequence satisfies case A,  at f prime, then we get that f of xn is less than or equal to f of c for all n. And let me in fact write this a little bit differently. So here we're using that f is increasing.  n, which implies for all n, f of xn minus f of c over x of n minus c. Now, this thing on top is negative. xn is less than c. So this thing on the bottom is also negative. And therefore, this thing is positive, non-negative, I mean.  And therefore, the limit must also be non-negative. But that limit is just the derivative evaluated at c. OK? And case B is kind of similar. I mean, not kind of, it is.  all in f of xn, now since xn's to the right of c, right at this way, this minus f of c is bigger than or equal to 0, which implies that f prime of c, which is the limit as n goes to infinity of f of xn minus f of c over xn minus f of c.  is in the C, what's on top is non-negative, and what's on bottom is non-negative, because xn is bigger than C. So bigger than 0, bigger than 0, bigger than 0. So in either case, thus in either case, we get that f prime of c is bigger than or equal to 0.  proven that the derivative is always non-negative. So that's 1 and 2. f is decreasing if and only if the function minus f is increasing, which by what we've done from part 1 is if and only if,  minus f prime of x is bigger than or equal to 0 for all x and I. And then multiplying through by minus minus 1 gives me number 2. And so let me make one last. I know it's taboo to write on the back part, but I'm going to do it anyways.  we had the very simple theorem which now follows. Let f from Idar be differentiable. Then f is constant. So f of x equals f of y for all x and y and i.  the derivative is identically 0. So f is constant if and only if, f is both increasing  right? Because it satisfies the equality sign in both of those. And by what we've done, now for all, this means for all x and i, f prime of x is bigger than or equal to 0, and that's for the increasing part, f prime of x is less than or equal to 0. And therefore,  f prime of x, this is equivalent to f prime of x equals 0. OK, so we'll stop there.